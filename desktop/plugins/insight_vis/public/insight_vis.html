<div ng-controller="insightVisController" class="insight-vis-wrapper"
  ng-style="data.length === 1 && {'overflow':'hidden'}">
  <div ng-if="(!data.length || !insightAvailableFlag) && !loadingInsights" class="no-data-container-wrapper">
    <div class="insight-vis-no-data-container">
      <no-data-message
        enable-custom-error-message="vis.params.enableCustomErrorMessage"
        error-message="vis.params.customErrorMessage"
        enable-custom-error-tooltip="vis.params.enableCustomErrorTooltip"
        custom-error-tooltip="vis.params.customErrorTooltip"
      ></no-data-message>
    </div>
  </div>

  <div class="insights-loading-wrapper" ng-if="loadingInsights && !data.length">
    <div class="vunet-bars-loader">
      <div></div>
      <div></div>
      <div></div>
    </div>
  </div>
  
  <div ng-if="data.length" class="insight-vis-container">
    <div ng-repeat="insight in data"
    ng-style="(!insight.data.text && {'display':'none'}) || (data.length === 1 && {'margin-bottom':'0px'})"
     class="item-container row">
      <div class="image-container col-sm-3">
        <img class="item-image" ng-src="{{insight.image}}">
      </div>
      <div class="text-container col-sm-9">
        <div class="insight-value">{{insight.metadata.value[0]}}</div>
        <div class="insight-title">{{insight.name}}</div>
        <div class="insight-data">{{insight.data.text}}</div>
      </div>
    </div>
  </div>
</div>
