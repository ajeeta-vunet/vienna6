<div class="modal-header data-source-configuration-header">
  <!-- This file is automatically generated using pluto meta-file framework
       Please do not make any change in this file directly. -->

   <div class="row data-source-configuration-header-row">
       <div class = "
       
       col-sm-4 col-md-4 
       
       data-source-configuration-header-col" ng-style="{opacity:first_step && 1 || 0.2}">
          <div ng-if="editDataSource==true">
              <h4 class="modal-title data-source-configuration-title">
                  <span class="data-source-configuration-step">1</span>
                  EDIT ENTRY
                  <img src="../assets/images/Arrow.png"
                  class="data-source-configuration-header-arrow"></h4>
          </div>
          <div ng-if="editDataSource==false">
              <h4 class="modal-title data-source-configuration-title"><span class="data-source-configuration-step">1</span> ADD ENTRY
                  <img src="../assets/images/Arrow.png" class="data-source-configuration-header-arrow">
              </h4>
         </div>
       </div>

        
               
       <div class= "col-sm-4 col-md-4 data-source-configuration-header-col" ng-style="{opacity:second_step && 1 || 0.2}">
           <h4 class="modal-title data-source-configuration-title">
               <span class="data-source-configuration-step">2</span>
       
               CONFIGURATION
              <img src="../assets/images/Arrow.png" class="data-source-configuration-header-arrow">
           </h4>
       </div>
       <div class= 
       
       "col-sm-4 col-md-4 data-source-configuration-header-col" ng-style="{opacity:third_step && 1 || 0.2}">
           <h4 class="modal-title data-source-configuration-title">
               <span class="data-source-configuration-step">3</span>
       
               VERIFY DATA</h4>
       </div>
   </div>
</div>
<form class="form-horizontal addDataSourceForm" name="addDataSourceForm" novalidate>
<div ng-show="first_step">
    <div class="modal-body">
      <div class="add_data_source_configuration_tab">
  
     
     
      <div class="form-group" ng-class="{'has-error':
      addDataSourceForm.name.$invalid &&
      !addDataSourceForm.name.$pristine}">
        <div class="row">
          <div class="col-sm-3 col-md-3">
            <label class="control-label data_source_configuration_attribute_name">Name
            <span class="data-source-field-tooltip">
            <a href="" uib-tooltip="Name of this SNMP" tooltip-placement="bottom"><i class="fa fa-question-circle"></i></a><span>
            </label>
          </div>
          
             <div class="col-sm-6 col-md-6 align-down">

                 
                       <input type="text"
                    
                 

                   class="form-control" ng-model="name"
                   required
                   
                   name="name"
                   ng-pattern="/^[a-zA-Z0-9_,.()/@#$%^&* -]{3,64}$/"
                   ng-disabled="editDataSource==true">
                   <div class="help-block" ng-show="addDataSourceForm.name.$error.addDataSourceUniqueValidate">Name should by unique within this data source.</div>
                   <div class="help-block" ng-show="addDataSourceForm.name.$error.pattern">Name should contain minimum of 3 characters and maximum of 64 characters</div>
                 </div>
             
          
        </div>
      </div>
       
      
      <div class="form-group" ng-class="{'has-error':
      addDataSourceForm.snmp_target.$invalid &&
      !addDataSourceForm.snmp_target.$pristine}">
        <div class="row">
          <div class="col-sm-3 col-md-3">
            <label class="control-label data_source_configuration_attribute_name">Target
            <span class="data-source-field-tooltip">
            <a href="" uib-tooltip="IP Address of the device" tooltip-placement="bottom"><i class="fa fa-question-circle"></i></a><span>
            </label>
          </div>
          
             
                 
                   <div class="col-sm-6 col-md-6 align-down">
                     
                        
                           
                               <input type="text"
                           
                        
                        class="form-control"
                        ng-model="snmp_target"
                        required
                        
                        name="snmp_target"
                        ng-pattern="/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]).){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/">
                        <div class="help-block" ng-show="addDataSourceForm.snmp_target.$error.pattern">Target should be a valid IP address</div>
                     
                   </div>
                 
             
          
        </div>
      </div>
       
      
      <div class="form-group" ng-class="{'has-error':
      addDataSourceForm.snmp_vendor.$invalid &&
      !addDataSourceForm.snmp_vendor.$pristine}">
        <div class="row">
          <div class="col-sm-3 col-md-3">
            <label class="control-label data_source_configuration_attribute_name">Vendor
            <span class="data-source-field-tooltip">
            <a href="" uib-tooltip="Vendor of the device" tooltip-placement="bottom"><i class="fa fa-question-circle"></i></a><span>
            </label>
          </div>
          <div class="col-sm-6 col-md-6 align-down">
               <select class="form-control"
                ng-model="snmp_vendor"
                name="snmp_vendor"
                ng-options="vendor for vendor in vendorList | orderBy:'toString()'" required>
               </select>
            </div>
          
        </div>
      </div>
       
      
      <div class="form-group" ng-class="{'has-error':
      addDataSourceForm.snmp_device.$invalid &&
      !addDataSourceForm.snmp_device.$pristine}">
        <div class="row">
          <div class="col-sm-3 col-md-3">
            <label class="control-label data_source_configuration_attribute_name">Device Model
            <span class="data-source-field-tooltip">
            <a href="" uib-tooltip="Device model of the device" tooltip-placement="bottom"><i class="fa fa-question-circle"></i></a><span>
            </label>
          </div>
          <div class="col-sm-6 col-md-6 align-down">
               <select class="form-control"
                ng-model="snmp_device"
                name="snmp_device"
                ng-options="device for device in deviceList | orderBy:'toString()'" required>
               </select>
            </div>
          
        </div>
      </div>
       
      
      <div class="form-group" ng-class="{'has-error':
      addDataSourceForm.enable_device.$invalid &&
      !addDataSourceForm.enable_device.$pristine}">
        <div class="row">
          <div class="col-sm-3 col-md-3">
            <label class="control-label data_source_configuration_attribute_name">Enable Device
            <span class="data-source-field-tooltip">
            <a href="" uib-tooltip="Enable or disable the SNMP device" tooltip-placement="bottom"><i class="fa fa-question-circle"></i></a><span>
            </label>
          </div>
          <div class="col-sm-6 col-md-6 align-down">
               <select class="form-control"
                ng-model="enable_device"
                name="enable_device" required>
               <option value="No">No</option>
                  <option value="Yes">Yes</option>
                  
                
               </select>
            </div>
          
        </div>
      </div>
       
      
      <div class="form-group" ng-class="{'has-error':
      addDataSourceForm.credential.$invalid &&
      !addDataSourceForm.credential.$pristine}">
        <div class="row">
          <div class="col-sm-3 col-md-3">
            <label class="control-label data_source_configuration_attribute_name">Credential
            <span class="data-source-field-tooltip">
            <a href="" uib-tooltip="Credential for this device" tooltip-placement="bottom"><i class="fa fa-question-circle"></i></a><span>
            </label>
          </div>
          
             
                 
                   <div class="col-sm-6 col-md-6 align-down">
                     <select class="form-control"
                        ng-model="credential"
                        name="credential"
                        ng-options="credential for
                        credential in
                        credential_list" required>
                        </select>
                     
                   </div>
                 
             
          
        </div>
      </div>
       
      
      <div class="form-group" ng-class="{'has-error':
      addDataSourceForm.snmp_timeout.$invalid &&
      !addDataSourceForm.snmp_timeout.$pristine}">
        <div class="row">
          <div class="col-sm-3 col-md-3">
            <label class="control-label data_source_configuration_attribute_name">Timout
            <span class="data-source-field-tooltip">
            <a href="" uib-tooltip="Timeout in seconds for each device" tooltip-placement="bottom"><i class="fa fa-question-circle"></i></a><span>
            </label>
          </div>
          
             
                 
                   <div class="col-sm-6 col-md-6 align-down">
                     
                        
                           <input type="number"
                           
                        
                        class="form-control"
                        ng-model="snmp_timeout"
                        required
                        
                        name="snmp_timeout"
                        ng-pattern="/^([1-9]|[1][0]|10)$/">
                        <div class="help-block" ng-show="addDataSourceForm.snmp_timeout.$error.pattern">Timeout should be between 1 and 10</div>
                     
                   </div>
                 
             
          
        </div>
      </div>
       
      
      <div class="form-group" ng-class="{'has-error':
      addDataSourceForm.mib_groups.$invalid &&
      !addDataSourceForm.mib_groups.$pristine}">
        <div class="row">
          <div class="col-sm-3 col-md-3">
            <label class="control-label data_source_configuration_attribute_name">MIB-Groups
            <span class="data-source-field-tooltip">
            <a href="" uib-tooltip="MIBs to be collected" tooltip-placement="bottom"><i class="fa fa-question-circle"></i></a><span>
            </label>
          </div>
          
             
                 
                        
                        
                        <div class="col-sm-6 col-md-6 align-down">
                        <table class="table table-hover table-bordered table-width">
                        <thead>
                        <tr>
                        <th>
                        Interval
                        </th>
                        <th>
                        MIB-Group
                        </th>
                        
                        <th>
                        Action
                        </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="row in mib_groups track by $index">
                        <td>
                        {{row.interval}}
                        </td>
                        <td>
                        {{row.mib_group}}
                        </td>
                        
                        <td>
                        <a href=""><span class="data-source-target-action-delete" ng-click="delete_mib_groups(row); addDataSourceForm.$setDirty(true);"><i class="fa fa-trash-o"></i></span></a> 
                        </td>
                        </tr>
                        <tr ng-repeat="row in new_mib_groups track by $index">
                        <td>
                           <div ng-form="intervalForm" ng-class="{'has-error':intervalForm.interval.$invalid
                           && !intervalForm.interval.$pristine}">
                            
                                  
                                     
                                         <input type="text"
                                     
                                  
                                   class="form-control"
                                   ng-model="new_mib_groups[$index]['interval']"
                                   name="interval"
                                   required
                                    
                                   ng-pattern="/^([3-9][0-9]|[1-9][0-9][0-9]|[1-9][0-9][0-9][0-9]|[1-9][0-9][0-9][0-9][0-9]|100000)$/">
                                   <div class="help-block"
                                   ng-show="intervalForm.interval.$error.pattern">Interval should be greater than 30 and less than 100000</div>
                              
                            </div>
                          </td>
                        <td>
                           <div ng-form="mib_groupForm" ng-class="{'has-error':mib_groupForm.mib_group.$invalid
                           && !mib_groupForm.mib_group.$pristine}">
                            <select class="form-control"
                                  ng-model="new_mib_groups[$index]['mib_group']"
                                  name="mib_group" required>
                                  <option value="INTERFACE_MIB_GROUP">INTERFACE_MIB_GROUP</option>
                                  <option value="ELEMENT_HEALTH_MIB_GROUP">ELEMENT_HEALTH_MIB_GROUP</option>
                                  <option value="DEVICE_INFO_MIB_GROUP">DEVICE_INFO_MIB_GROUP</option>
                                  <option value="IPSLA_MIB_GROUP">IPSLA_MIB_GROUP</option>
                                  <option value="WIFI_DATA_MIB_GROUP">WIFI_DATA_MIB_GROUP</option>
                                  <option value="ALL_SUPPORTED_MIB_GROUPS">ALL_SUPPORTED_MIB_GROUPS</option>
                                  
                                  </select>
                             
                            </div>
                          </td>
                        
                        <td>
                        <a href=""><span
                        class="data-source-target-action-delete"
                        ng-click="delete_new_mib_groups(row); addDataSourceForm.$setDirty(true);"><i class="fa fa-trash-o"></i></span></a>
                        </td>
                        </tr>
                        </tbody>
                        </table>
                        </div>
                        <div class="col-sm-2 col-md-2 data-source-add-agent-config-button">
                            <button class="btn btn-primary" ng-click="add_mib_groups(); addDataSourceForm.$setDirty(true);">Add MIB-Groups</button>
                        </div>
                     
                 
             
          
        </div>
      </div>
       
      
  
      </div>
      <div class="modal-footer">
        <button class="btn btn-inverse" ng-click="cancel()">Cancel</button>

        <button type="submit" id = "data_source_submit" class="btn btn-primary" ng-click="saveDataSource(addDataSourceForm.$valid)"ng-disabled="addDataSourceForm.$invalid || addDataSourceForm.$pristine ||
         (mib_groups.length == 0 && new_mib_groups.length == 0) ||
         
        submitDisable()">Save & Continue</button>

      </div>
    </div>
  </div>
 </div>


</form>

<div ng-show="second_step">

        <div class="add_data_source_configuration_tab">
            <div class="add_data_source_remote_config_tab_body">
           <p>SNMP is Simple Network Management Protocol. It can be used to fetch Interface Health, Device Health, IP SLA and other resource information from various devices.</p> <hr> <p class="add_data_source_remote_config_tab_header">Credentials</p> <p> Configure your SNMP Credentials in 'Settings' -> 'Credentials' tab. vuSmartMaps can intelligently figure out which credential to use if multiple credentials are configured.  </p> <hr> <p class="add_data_source_remote_config_tab_header"> Device configurations </p> <p> Configure the remote device to allow SNMP access from vuSmartMaps shipper server. If its a security device like Firewall, you may need to configure a ACL to allow SNMP access for this.</p>
         </div>
      </div>
      <div class="modal-footer">

        <button class="btn btn-inverse" ng-click="first_step=true;second_step=false">Back</button>
        <button class="btn btn-primary" ng-click="third_step=true;second_step=false">Next</button>

      </div>
</div>

<div ng-show="third_step">

  <form class="form-horizontal" name="addDataRecvForm" novalidate>
    <div class="modal-body">
        <div class="add_data_source_configuration_tab">
       <div class="form-group" ng-class="{'has-error': addDataSourceForm.vendor.$invalid && !addDataSourceForm.vendor.$pristine}">
           <h4 class="add_data_source_data_received_text">
            Verify if data has been received from this data source. Data from
            this data source will be indexed and ready for your use.</h4>
          <div class="row add_data_source_data_received_row">
            <div class="col-sm-1 col-md-1"> </div>
            <div class="col-sm-3 col-md-3">
                 <label>Index Name:</label>
            </div>
            <div class="col-sm-6 col-md-6 align-down">
                {{index}}
            </div>
          </div>
          <div class="row add_data_source_data_received_row">
              <div class="col-sm-1 col-md-1"> </div>
              <div class="col-sm-3 col-md-3">
                <label>Interval:</label>
              </div>
              <div class="col-sm-6 col-md-6 align-down">
                  <select class="form-control" ng-model="interval" name="interval" required>
                    <option value="minutes_15">Last 15 Minutes</option>
                    <option value="hour_1">Last 1 Hour</option>
                    <option value="hours_4">Last 4 Hours</option>
                    <option value="day_1">Last 1 Day</option>
                </select>
              </div>
              <div class="col-sm-1 col-md-1 align-down">
                <button class="btn btn-primary" ng-click="refreshDataSource()">Refresh</button>
              </div>
          </div>
          <div class="row add_data_source_data_received_row">
            <div class="col-sm-1 col-md-1"> </div>
            <div class="col-sm-3 col-md-3 add_data_source_data_received_row_label">
                 <label>Data Received:</label>
            </div>
            <div class="col-sm-6 col-md-6 align-down">
                   <a href='' ng-if="data_received == true" uib-tooltip="Data is being received from this data source" tooltip-placement="bottom">
                       <span class="fa-stack" ng-click="editConfig(row, true, false)">
                           <i class="fa-stack-1x fa fa-database add_data_source_data_received_icon add_data_source_data_received_icon_green"></i>
                       </span>
                   </a>
                   <a href='' ng-if="data_received == false" uib-tooltip="Data has not been received from this data source in last 15 minutes" tooltip-placement="bottom">
                       <span class="fa-stack" ng-click="editConfig(row, true, false)">
                           <i class="fa-stack-1x fa fa-database add_data_source_data_received_icon"></i>
                           <i class="fa fa-ban fa-stack-2x add_data_source_data_received_icon_red"></i>
                       </span>
                   </a>
            </div>
          </div>
      </div>  <!-- form group -->
     </div>  <!-- height -->
   </div> <!-- modal-bidy -->
   <div class="modal-footer">

       <button class="btn btn-inverse" ng-click="second_step=true;third_step=false">Back</button>

       <button class="btn btn-primary" ng-click="closeDataSource()">Done</button>
   </div>
 </form>
</div>