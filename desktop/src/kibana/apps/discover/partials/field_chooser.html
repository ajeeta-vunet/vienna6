<div class="sidebar-list">
  <div class="sidebar-list-header">
    <h5>Selected</h5>
  </div>
  <ul bindonce class="list-unstyled discover-selected-fields">
    <discover-field field="field" ng-repeat="field in fields|filter:{display:true}" data="data">
    </discover-field>
  </ul>

  <div class="sidebar-list-header sidebar-item">
    <h5 ng-click="showFilter = !showFilter">Fields
      <button
        ng-class="filter.active ? 'btn-success' : 'btn-default'"
        class="btn btn-xs btn-default pull-right discover-field-filter-toggle">
        <i class="fa fa-gear"></i>
      </button>
    </h5>
  </div>

  <div class="sidebar-item" ng-show="showFilter">
    <div ng-click="showFilter = !showFilter" class="discover-field-details-close">
        <i class="fa fa-chevron-up"></i>
    </div>
    <form role="form" class="discover-field-details">
      <div class="form-group">
        <label>
          Analyzed
        </label>
        <select
          required
          ng-options="opt.value as opt.label for opt in filter.boolOpts"
          ng-model="filter.vals.analyzed"
          class="form-control">
        </select>
      </div>
      <div class="form-group">
        <label>
          Indexed
        </label>
        <select
          required
          ng-options="opt.value as opt.label for opt in filter.boolOpts"
          ng-model="filter.vals.indexed"
          class="form-control">
        </select>
      </div>
      <div class="form-group">
        <label>
          Type
        </label>
        <select
          required
          ng-options="field as field for field in fieldTypes"
          ng-model="filter.vals.type"
          class="form-control">
        </select>
      </div>
      <div class="form-group">
        <label>
          Field name
        </label>
        <input type="text" class="form-control" ng-model="filter.vals.name">
      </div>
      <div class="form-group">
        <label>
          <input type="checkbox" ng-model="filter.vals.missing">
          Hide Missing Fields
        </label>
      </div>
    </form>
    <div
      ng-click="filter.reset()"
      ng-disabled="!filter.active"
      class="sidebar-item-button danger ng-scope">
      Reset Filters
    </div>
  </div>

  <ul bindonce
    ng-show="(fields | filter:filter.isPopular).length > 0"
    class="list-unstyled sidebar-well">
    <li class="sidebar-item sidebar-list-header"><h6>Popular fields</h6></li>
    <discover-field
      ng-repeat="field in popularFields |
        orderBy:'name' | filter:filter.isFieldFiltered"
      field="field"
      data="data">
    </discover-field>
  </ul>

  <ul bindonce class="list-unstyled">
    <discover-field
      ng-repeat="field in fields | filter:filter.isFieldFiltered"
      field="field"
      data="data">
    </discover-field>
  </ul>

</div>